<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Recarga Turbo - Dashboard</title>
    <meta name="description" content="Dashboard do cliente — recargas, saldo e depósitos">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/pages/dashboard.css">
</head>

<body class="dashboard-client">

    <!-- ============================================================
         SIDEBAR (Desktop only — hidden on mobile)
         ============================================================ -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                </svg>
            </div>
            <div>
                <div class="logo-text">Recarga Turbo</div>
            </div>
        </div>

        <!-- User info -->
        <div class="sidebar-user-info">
            <div class="sidebar-user-avatar" id="sidebar-user-avatar">?</div>
            <div>
                <div class="sidebar-user-name" id="sidebar-user-name">Carregando...</div>
                <div class="sidebar-user-email" id="sidebar-user-email"></div>
            </div>
        </div>

        <!-- Saldo compacto na sidebar -->
        <div class="sidebar-balance">
            <div class="sidebar-balance-label">SEU SALDO</div>
            <div class="sidebar-balance-value js-balance">R$ 0,00</div>
        </div>

        <nav class="sidebar-nav">
            <div class="nav-item active" id="nav-inicio" onclick="showSection('inicio')">
                <svg class="nav-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <rect x="5" y="2" width="14" height="20" rx="2" ry="2" />
                    <line x1="12" y1="18" x2="12" y2="18" />
                </svg>
                Nova Recarga
            </div>
            <div class="nav-item nav-item-highlight" id="nav-deposito" onclick="openDepositModal()">
                <svg class="nav-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2" />
                    <line x1="1" y1="10" x2="23" y2="10" />
                </svg>
                Adicionar Saldo
            </div>
            <div class="nav-item" id="nav-pedidos" onclick="showSection('pedidos')">
                <svg class="nav-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                    <polyline points="14 2 14 8 20 8" />
                    <line x1="16" y1="13" x2="8" y2="13" />
                    <line x1="16" y1="17" x2="8" y2="17" />
                </svg>
                Pedidos
            </div>
            <div class="nav-item" id="nav-extrato" onclick="showSection('extrato')">
                <svg class="nav-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="1" x2="12" y2="23" />
                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                </svg>
                Extrato
            </div>
            <div class="nav-item" id="nav-perfil" onclick="showSection('perfil')">
                <svg class="nav-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                    <circle cx="12" cy="7" r="4" />
                </svg>
                Minha Conta
            </div>
        </nav>

        <div class="sidebar-footer">
            <button class="sidebar-logout-btn" onclick="logout()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                    <polyline points="16 17 21 12 16 7" />
                    <line x1="21" y1="12" x2="9" y2="12" />
                </svg>
                Sair
            </button>
        </div>
    </aside>


    <!-- ============================================================
         MAIN CONTENT
         ============================================================ -->
    <main class="main-content">

        <!-- TOPBAR -->
        <header class="topbar">
            <div>
                <h2 class="page-title" id="page-title">Nova Recarga</h2>
                <p class="page-subtitle" id="page-subtitle">Recarregue seu celular de forma rápida</p>
            </div>
            <div class="topbar-actions">
                <div class="topbar-balance" onclick="openDepositModal()">
                    <span class="topbar-balance-label">Saldo</span>
                    <span class="topbar-balance-value js-balance">R$ 0,00</span>
                </div>
                <span class="text-sm text-muted topbar-user-name" id="topbar-user-name"></span>
            </div>
        </header>

        <div class="page-content">

            <!-- ========================================================
                 SEÇÃO: INÍCIO (Recarga em destaque)
                 ======================================================== -->
            <div class="section active" id="section-inicio">

                <!-- Card principal: Fazer Recarga -->
                <div class="card recharge-card-main">
                    <div class="card-body">

                        <!-- Step 1: Telefone -->
                        <div class="recharge-step">
                            <div class="step-header">
                                <div class="step-number">1</div>
                                <div>
                                    <h3 class="step-title">Qual o número?</h3>
                                    <p class="step-subtitle">Digite o DDD + Número do celular</p>
                                </div>
                            </div>
                            <input type="tel" id="recharge-phone" class="recharge-phone-input"
                                placeholder="(00) 00000-0000" maxlength="20" autocomplete="tel" inputmode="tel"
                                oninput="onPhoneInput(this)">
                        </div>

                        <!-- Step 2: Operadora (apenas TIM, Vivo, Claro) -->
                        <div class="recharge-step">
                            <div class="step-header">
                                <div class="step-number">2</div>
                                <div>
                                    <h3 class="step-title">Selecione a operadora</h3>
                                    <p class="step-subtitle">Escolha a operadora do número</p>
                                </div>
                            </div>
                            <div class="operator-grid operator-grid-3">
                                <button type="button" class="operator-btn" data-op="Vivo"
                                    onclick="selectOperator('Vivo')">
                                    <svg class="op-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M5 12.55a11 11 0 0 1 14.08 0" />
                                        <path d="M1.42 9a16 16 0 0 1 21.16 0" />
                                        <path d="M8.53 16.11a6 6 0 0 1 6.95 0" />
                                        <line x1="12" y1="20" x2="12" y2="20" />
                                    </svg>
                                    <span>Vivo</span>
                                </button>
                                <button type="button" class="operator-btn" data-op="TIM"
                                    onclick="selectOperator('TIM')">
                                    <svg class="op-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M5 12.55a11 11 0 0 1 14.08 0" />
                                        <path d="M1.42 9a16 16 0 0 1 21.16 0" />
                                        <path d="M8.53 16.11a6 6 0 0 1 6.95 0" />
                                        <line x1="12" y1="20" x2="12" y2="20" />
                                    </svg>
                                    <span>TIM</span>
                                </button>
                                <button type="button" class="operator-btn" data-op="Claro"
                                    onclick="selectOperator('Claro')">
                                    <svg class="op-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M5 12.55a11 11 0 0 1 14.08 0" />
                                        <path d="M1.42 9a16 16 0 0 1 21.16 0" />
                                        <path d="M8.53 16.11a6 6 0 0 1 6.95 0" />
                                        <line x1="12" y1="20" x2="12" y2="20" />
                                    </svg>
                                    <span>Claro</span>
                                </button>
                            </div>
                        </div>

                        <!-- Step 3: Valor -->
                        <div class="recharge-step">
                            <div class="step-header">
                                <div class="step-number">3</div>
                                <div>
                                    <h3 class="step-title">Escolha o valor</h3>
                                    <p class="step-subtitle">Selecione o valor da recarga</p>
                                </div>
                            </div>
                            <div id="packages-container" class="recharge-amounts">
                                <p class="text-center text-muted">Carregando ofertas...</p>
                            </div>
                        </div>

                        <!-- Resumo -->
                        <div class="recharge-summary hidden" id="recharge-summary">
                            <div class="summary-row">
                                <span>
                                    <svg class="inline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="5" y="2" width="14" height="20" rx="2" />
                                        <line x1="12" y1="18" x2="12" y2="18" />
                                    </svg>
                                    Telefone
                                </span>
                                <strong id="summary-phone">—</strong>
                            </div>
                            <div class="summary-row">
                                <span>
                                    <svg class="inline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M5 12.55a11 11 0 0 1 14.08 0" />
                                        <path d="M8.53 16.11a6 6 0 0 1 6.95 0" />
                                        <line x1="12" y1="20" x2="12" y2="20" />
                                    </svg>
                                    Operadora
                                </span>
                                <strong id="summary-operator">—</strong>
                            </div>
                            <div class="summary-row summary-total">
                                <span>
                                    <svg class="inline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="12" y1="1" x2="12" y2="23" />
                                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                                    </svg>
                                    Valor
                                </span>
                                <strong id="summary-amount">R$ 0,00</strong>
                            </div>
                            <div class="summary-row summary-balance">
                                <span>Saldo após recarga</span>
                                <span id="summary-balance-after">R$ 0,00</span>
                            </div>
                        </div>

                        <!-- Confirmar -->
                        <button class="btn-recharge-submit" id="btn-submit-recharge" disabled
                            onclick="submitRecharge()">
                            <svg class="inline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                            </svg>
                            Confirmar Recarga
                        </button>

                    </div>
                </div>

                <!-- Reseller CTA -->
                <div class="reseller-cta" id="reseller-cta">
                    <!-- JS preenche conforme role -->
                </div>

            </div>

            <!-- ========================================================
                 SEÇÃO: HISTÓRICO DE PEDIDOS
                 ======================================================== -->
            <div class="section" id="section-pedidos">
                <div class="card">
                    <div class="card-header">
                        <h3>
                            <svg class="inline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                <polyline points="14 2 14 8 20 8" />
                                <line x1="16" y1="13" x2="8" y2="13" />
                                <line x1="16" y1="17" x2="8" y2="17" />
                            </svg>
                            Histórico de Pedidos
                        </h3>
                        <div class="filters-bar">
                            <select class="filter-select" onchange="filterOrders(this.value)" id="orders-filter">
                                <option value="">Todos</option>
                                <option value="completed">Concluídos</option>
                                <option value="pending">Pendentes</option>
                                <option value="failed">Falhas</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-body">
                        <ul class="transaction-list" id="orders-list">
                            <div class="loading-state">
                                <div class="spinner"></div><span>Carregando pedidos...</span>
                            </div>
                        </ul>
                    </div>
                    <div id="orders-pagination"></div>
                </div>
            </div>

            <!-- ========================================================
                 SEÇÃO: EXTRATO DE DEPÓSITOS
                 ======================================================== -->
            <div class="section" id="section-extrato">
                <!-- Saldo Hero -->
                <div class="balance-hero">
                    <div class="balance-label">Saldo Disponível</div>
                    <div class="balance-value js-balance">R$ 0,00</div>
                    <div class="balance-updated" id="balance-updated">Atualizando...</div>
                    <div class="balance-actions">
                        <button class="btn-hero btn-white" onclick="openDepositModal()">
                            <svg class="inline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="23" />
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                            </svg>
                            Adicionar Crédito
                        </button>
                        <button class="btn-hero btn-outline" onclick="showSection('inicio')">
                            <svg class="inline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="5" y="2" width="14" height="20" rx="2" />
                                <line x1="12" y1="18" x2="12" y2="18" />
                            </svg>
                            Fazer Recarga
                        </button>
                    </div>
                </div>

                <!-- Histórico de depósitos -->
                <div class="card mt-lg">
                    <div class="card-header">
                        <h3>
                            <svg class="inline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="23" />
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                            </svg>
                            Extrato de Depósitos
                        </h3>
                        <div class="filters-bar">
                            <select class="filter-select" onchange="filterDeposits(this.value)" id="deposits-filter">
                                <option value="">Todos</option>
                                <option value="credit">Entradas</option>
                                <option value="debit">Saídas</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-body">
                        <ul class="transaction-list" id="deposits-list">
                            <div class="loading-state">
                                <div class="spinner"></div><span>Carregando extrato...</span>
                            </div>
                        </ul>
                    </div>
                    <div id="deposits-pagination"></div>
                </div>
            </div>

            <!-- ========================================================
                 SEÇÃO: MINHA CONTA (Perfil)
                 ======================================================== -->
            <div class="section" id="section-perfil">

                <!-- Profile Header Card -->
                <div class="card profile-header-card">
                    <div class="card-body">
                        <div class="profile-header">
                            <div class="profile-avatar-lg" id="profile-avatar-lg">?</div>
                            <div class="profile-header-info">
                                <h3 id="profile-name">—</h3>
                                <span class="profile-email-text" id="profile-email">—</span>
                                <span class="profile-role-badge" id="profile-role-badge">Cliente</span>
                            </div>
                            <button class="profile-edit-btn" title="Editar perfil" onclick="openEditProfileModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z" />
                                </svg>
                            </button>
                        </div>
                        <div class="profile-balance-mini">
                            <div class="profile-balance-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="1" x2="12" y2="23" />
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                                </svg>
                            </div>
                            <div>
                                <div class="profile-balance-label">SALDO ATUAL</div>
                                <div class="profile-balance-value js-balance">R$ 0,00</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Dados do perfil (readonly) -->
                <div class="card mt-md profile-section-card">
                    <div class="card-header">
                        <h3>
                            <svg class="inline-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                <polyline points="14 2 14 8 20 8" />
                                <line x1="16" y1="13" x2="8" y2="13" />
                                <line x1="16" y1="17" x2="8" y2="17" />
                            </svg>
                            Dados Pessoais
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="profile-data-grid">
                            <div class="profile-data-item">
                                <span class="profile-data-label">Nome</span>
                                <span class="profile-data-value" id="profile-data-name">—</span>
                            </div>
                            <div class="profile-data-item">
                                <span class="profile-data-label">E-mail</span>
                                <span class="profile-data-value" id="profile-data-email">—</span>
                            </div>
                            <div class="profile-data-item">
                                <span class="profile-data-label">Telefone</span>
                                <span class="profile-data-value" id="profile-data-phone">—</span>
                            </div>
                            <div class="profile-data-item">
                                <span class="profile-data-label">Endereço</span>
                                <span class="profile-data-value" id="profile-data-address">—</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick links -->
                <div class="profile-quick-links mt-md">
                    <div class="quick-link-card" onclick="showSection('pedidos')">
                        <div class="quick-link-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                <polyline points="14 2 14 8 20 8" />
                                <line x1="16" y1="13" x2="8" y2="13" />
                                <line x1="16" y1="17" x2="8" y2="17" />
                            </svg>
                        </div>
                        <div class="quick-link-text">
                            <strong>Histórico de Pedidos</strong>
                            <span>Ver todas as recargas</span>
                        </div>
                        <span class="quick-link-arrow">&#8250;</span>
                    </div>
                    <div class="quick-link-card" onclick="showSection('extrato')">
                        <div class="quick-link-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="23" />
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                            </svg>
                        </div>
                        <div class="quick-link-text">
                            <strong>Histórico de Depósitos</strong>
                            <span>Ver entradas de saldo</span>
                        </div>
                        <span class="quick-link-arrow">&#8250;</span>
                    </div>
                </div>

                <!-- Segurança -->
                <div class="card mt-md profile-section-card">
                    <div class="card-body">
                        <div class="security-row">
                            <div class="security-info">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                                </svg>
                                <strong>Segurança</strong>
                            </div>
                            <a href="#" class="security-link"
                                onclick="event.preventDefault(); showToast('Em breve!', 'info')">Alterar Senha</a>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </main>


    <!-- ============================================================
         BOTTOM NAV (Mobile)
         ============================================================ -->
    <nav class="bottom-nav" id="bottom-nav">
        <button class="bottom-nav-item active" id="bnav-inicio" onclick="showSection('inicio')">
            <svg class="bnav-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <rect x="5" y="2" width="14" height="20" rx="2" />
                <line x1="12" y1="18" x2="12" y2="18" />
            </svg>
            <span class="bnav-label">Recarga</span>
        </button>
        <button class="bottom-nav-item" id="bnav-pedidos" onclick="showSection('pedidos')">
            <svg class="bnav-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                <polyline points="14 2 14 8 20 8" />
                <line x1="16" y1="13" x2="8" y2="13" />
                <line x1="16" y1="17" x2="8" y2="17" />
            </svg>
            <span class="bnav-label">Pedidos</span>
        </button>
        <button class="bottom-nav-item bnav-deposit" onclick="openDepositModal()">
            <span class="bnav-icon-main">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19" />
                    <line x1="5" y1="12" x2="19" y2="12" />
                </svg>
            </span>
            <span class="bnav-label">Depositar</span>
        </button>
        <button class="bottom-nav-item" id="bnav-extrato" onclick="showSection('extrato')">
            <svg class="bnav-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="1" x2="12" y2="23" />
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
            </svg>
            <span class="bnav-label">Extrato</span>
        </button>
        <button class="bottom-nav-item" id="bnav-perfil" onclick="showSection('perfil')">
            <svg class="bnav-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                <circle cx="12" cy="7" r="4" />
            </svg>
            <span class="bnav-label">Conta</span>
        </button>
    </nav>


    <!-- ============================================================
         MODAL: ADICIONAR SALDO (PIX)
         ============================================================ -->
    <div class="modal-overlay hidden" id="modal-deposit" onclick="if(event.target===this)closeDepositModal()">
        <div class="modal deposit-modal">
            <div class="modal-header">
                <h3>Adicionar Saldo</h3>
                <button class="modal-close" onclick="closeDepositModal()">&times;</button>
            </div>
            <div class="modal-body">

                <p class="deposit-question">Quanto você quer depositar?</p>

                <div class="deposit-amount-display">
                    <span class="deposit-currency">R$</span>
                    <input type="text" id="deposit-amount-input" class="deposit-amount-field" placeholder="0,00"
                        inputmode="decimal" oninput="onDepositAmountInput(this)">
                </div>

                <div class="deposit-quick-amounts">
                    <button class="deposit-quick-btn" onclick="selectDepositAmount(10)">R$ 10</button>
                    <button class="deposit-quick-btn" onclick="selectDepositAmount(20)">R$ 20</button>
                    <button class="deposit-quick-btn" onclick="selectDepositAmount(50)">R$ 50</button>
                    <button class="deposit-quick-btn" onclick="selectDepositAmount(100)">R$ 100</button>
                    <button class="deposit-quick-btn" onclick="selectDepositAmount(150)">R$ 150</button>
                    <button class="deposit-quick-btn" onclick="selectDepositAmount(200)">R$ 200</button>
                </div>

                <div class="deposit-info-box">
                    <div>Mínimo: R$ 10.00</div>
                    <div>Máximo: R$ 1000.00</div>
                </div>

            </div>
            <div class="modal-footer deposit-footer">
                <button class="btn-gerar-pix" id="btn-confirm-deposit" disabled onclick="confirmDeposit()">
                    Gerar PIX
                </button>
            </div>
        </div>
    </div>


    <!-- ============================================================
         MODAL: EDITAR PERFIL
         ============================================================ -->
    <div class="modal-overlay hidden" id="modal-edit-profile" onclick="if(event.target===this)closeEditProfileModal()">
        <div class="modal edit-profile-modal">
            <div class="modal-header">
                <h3>Editar Perfil</h3>
                <button class="modal-close" onclick="closeEditProfileModal()">&times;</button>
            </div>
            <div class="modal-body">

                <div class="edit-form-group">
                    <label for="edit-name">Nome</label>
                    <input type="text" id="edit-name" class="edit-input" placeholder="Seu nome completo">
                </div>

                <div class="edit-form-group">
                    <label for="edit-email">E-mail</label>
                    <input type="email" id="edit-email" class="edit-input" placeholder="seu@email.com">
                </div>

                <div class="edit-form-group">
                    <label for="edit-phone">Telefone</label>
                    <input type="tel" id="edit-phone" class="edit-input" placeholder="(00) 00000-0000" inputmode="tel">
                </div>

                <div class="edit-form-group">
                    <label for="edit-address">Endereço</label>
                    <input type="text" id="edit-address" class="edit-input" placeholder="Rua, número, bairro, cidade">
                </div>

            </div>
            <div class="modal-footer">
                <button class="btn-cancel-edit" onclick="closeEditProfileModal()">Cancelar</button>
                <button class="btn-save-edit" id="btn-save-profile" onclick="saveProfile()">
                    Salvar Alterações
                </button>
            </div>
        </div>
    </div>


    <!-- ============================================================
         SCRIPTS (cache-busted)
         ============================================================ -->
    <script src="js/api.js?v=20260213a"></script>
    <script src="js/auth.js?v=20260213a"></script>
    <script src="js/pages/dashboard.js?v=20260213a"></script>

</body>

</html>